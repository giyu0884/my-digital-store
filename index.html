<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Digital Store</title>
<style>
body { font-family: Arial, sans-serif; background:#f5f6fa; margin:0; padding:20px;}
h1 { text-align:center; color:#333;}
.product-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); /* Medium size */
  gap:25px;
  margin-top:30px;
}
.product-card {
  background:#fff;
  border-radius:12px;
  padding:20px;
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
  display:flex;
  flex-direction:column;
  align-items:center;
}
.product-card img {
  width:100%;
  max-height:250px; /* Medium height */
  object-fit:cover;
  border-radius:8px;
  pointer-events:none;
  user-select:none;
}
.product-card h3 { margin:12px 0 6px 0; color:#333; text-align:center; }
.product-card p { margin:5px 0; color:#555; text-align:center; }
.buy-btn {
  display:block;
  width:100%;
  text-align:center;
  padding:12px;
  margin-top:15px;
  background:#007bff;
  color:white;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
}
.buy-btn:hover { background:#0056b3; }
</style>
</head>
<body>

<h1>My Digital Store</h1>
<div class="product-grid" id="productGrid"></div>

<script>
function loadProducts() {
  const productGrid = document.getElementById("productGrid");
  const products = JSON.parse(localStorage.getItem("products") || "[]");

  if(products.length === 0) {
    productGrid.innerHTML = "<p style='text-align:center;'>No products available.</p>";
    return;
  }

  productGrid.innerHTML = products.map((p, index) => `
    <div class="product-card">
      <img src="${p.imageBase64}" alt="${p.name}">
      <h3>${p.name}</h3>
      <p>â‚±${p.price}</p>
      <button class="buy-btn" data-index="${index}">Buy</button>
    </div>
  `).join("");

  document.querySelectorAll(".buy-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      const product = products[btn.dataset.index];
      alert("You clicked Buy for: " + product.name + "\n\nLater you can integrate payment gateway here.");
    });
  });
}

loadProducts();
</script>

</body>
</html>
